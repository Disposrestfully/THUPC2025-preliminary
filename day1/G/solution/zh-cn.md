#### G

首先，X 把整个序列分成了若干段，段与段之间是独立的。

考虑每一个不含 X 的连续段，若这个段为 MWMW，如果 W 老师操作这个段，那么他拿走 WMW 一定是不劣的，因为拿走这个之后剩下 M，M 必须花一次操作拿走，如果剩下其他的，Menji 也可以花一次拿走，相当于，我们只给 Menji 留严格更少的选择。

但考虑这样的区间 WMWMW，W 老师不可能拿的只剩一个 M。

我们可以发现，如果有这个贪心，那么一个连续段只与其两端点，以及中间是否有其他字符有关。

我们将段分为 $5$ 类，WW，WMW，MM，MWM，WM，分别表示两端为 W/M，且中间是否有另外一种，比如 WW 代表两边都是 W 且中间没有 M，WMW 表示两边都是 W 中间有 M，WM 表示一边是 W 一边是 M。

令 $w_0,w_1,m_0,m_1,c$ 分别表示这些段的数量。

$c$ 的存在是无意义的，当 W 老师操作一个 WM 段时，一定剩下一个 M，此时 Menji 直接拿走这个 M，游戏回合数不受影响，这样的操作也不会影响平局，若一方因此不能平局，其可以在游戏的最开始先操作这个 WM 段。

那此时的操作可以看成，W 老师可以一回合内让 $w_0-1$ 或 $w_1-1$ 或 $m_0-1,m_1+1$，Menji 一回合可以让 $m_0-1$ 或 $m_1-1$ 或 $w_0-1,w_1+1$。略微讨论一下，可以发现 W 老师胜利条件为 $w_0+w_1<m_0+m_1$ 或 $w_0+w_1=m_0+m_1,m_0=0$。Menji 获胜条件为 $m_0+m_1+1<w_0+w_1$ 或 $m_0+m_1+1=w_0+w_1,w_0=0$。其余都是平局。

本题的灵感来源是一个之前玩过的桌游，四人分成红蓝两队，有 $25$ 个隐藏中文词，一些属于红队一些属于蓝队一些没有归属还有一个特殊词。所有玩家能看到所有词，但两队分别有一个人能看到所有词的类型（属于哪一队或是特殊词），两队能看到词类型的玩家轮流操作，说一个简单的短语，另一名玩家可以猜任意数量的词，无论是否猜中将猜的词移除，当一个队的词全部被移除时该队获胜，特别的，如果一个队移除了特殊词，该队直接失败。

题目其实是将高维空间的词看成一维空间的点并将描述看成区间，特殊词即为 X，似乎我目前还没有想出高维空间中的解决方案（假设一个描述是一个高位立方体？），欢迎大家思考一下。